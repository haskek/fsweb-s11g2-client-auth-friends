{"ast":null,"code":"var _jsxFileName = \"/Users/hasankeklik/Documents/GitHub/fsweb-s11g2-client-auth-friends/src/components/LoginForm.js\",\n  _s = $RefreshSig$();\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginForm() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onChange\"\n  });\n  const onSubmitLogin = data => {\n    const config = {\n      method: \"post\",\n      url: \"http://localhost:9005/api/login\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      data: JSON.stringify(data)\n    };\n    axios(config).then(function (response) {\n      localStorage.setItem(\"token\", response.data.token);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.log(error);\n    });\n\n    /* axios\n      .post(\"http://localhost9005/api/login/\", data, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then((res) => JSON.parse(console.log(res.data)))\n      .catch((err) => console.log(err));\n    */\n  };\n\n  const token = localStorage.getItem(\"token\");\n  axios.create({\n    headers: {\n      Authorization: token\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmitLogin),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"username\",\n          ...register(\"username\", {\n            required: \"Bu alan zorunludur.\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"password\",\n          ...register(\"password\", {\n            required: \"Bu alan zorunludur.\"\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"HLC1IFclXfL/K+q6lxeDS/Po7Wk=\", false, function () {\n  return [useForm];\n});\n_c = LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["useForm","axios","LoginForm","register","handleSubmit","formState","errors","mode","onSubmitLogin","data","config","method","url","headers","JSON","stringify","then","response","localStorage","setItem","token","console","log","catch","error","getItem","create","Authorization","required"],"sources":["/Users/hasankeklik/Documents/GitHub/fsweb-s11g2-client-auth-friends/src/components/LoginForm.js"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nexport default function LoginForm() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({ mode: \"onChange\" });\n\n  const onSubmitLogin = (data) => {\n    const config = {\n      method: \"post\",\n      url: \"http://localhost:9005/api/login\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      data: JSON.stringify(data),\n    };\n    axios(config)\n      .then(function (response) {\n        localStorage.setItem(\"token\", response.data.token);\n        console.log(response.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n    /* axios\n      .post(\"http://localhost9005/api/login/\", data, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then((res) => JSON.parse(console.log(res.data)))\n      .catch((err) => console.log(err));\n\t  */\n  };\n\n  const token = localStorage.getItem(\"token\");\n\n  axios.create({\n    headers: {\n      Authorization: token,\n    },\n  });\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <form onSubmit={handleSubmit(onSubmitLogin)}>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"username\"\n            {...register(\"username\", { required: \"Bu alan zorunludur.\" })}\n          />\n        </div>\n        <div>\n          <input\n            type=\"password\"\n            placeholder=\"password\"\n            {...register(\"password\", { required: \"Bu alan zorunludur.\" })}\n          />\n        </div>\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,iBAAiB;AACzC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,eAAe,SAASC,SAAS,GAAG;EAAA;EAClC,MAAM;IACJC,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO;EACtB,CAAC,GAAGN,OAAO,CAAC;IAAEO,IAAI,EAAE;EAAW,CAAC,CAAC;EAEjC,MAAMC,aAAa,GAAIC,IAAI,IAAK;IAC9B,MAAMC,MAAM,GAAG;MACbC,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,iCAAiC;MACtCC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDJ,IAAI,EAAEK,IAAI,CAACC,SAAS,CAACN,IAAI;IAC3B,CAAC;IACDR,KAAK,CAACS,MAAM,CAAC,CACVM,IAAI,CAAC,UAAUC,QAAQ,EAAE;MACxBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACR,IAAI,CAACW,KAAK,CAAC;MAClDC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACR,IAAI,CAAC;IAC5B,CAAC,CAAC,CACDc,KAAK,CAAC,UAAUC,KAAK,EAAE;MACtBH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;IACpB,CAAC,CAAC;;IAEJ;AACJ;AACA;AACA;AACA;AACA;AACA;EACE,CAAC;;EAED,MAAMJ,KAAK,GAAGF,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;EAE3CxB,KAAK,CAACyB,MAAM,CAAC;IACXb,OAAO,EAAE;MACPc,aAAa,EAAEP;IACjB;EACF,CAAC,CAAC;EAEF,oBACE;IAAA,wBACE;MAAA,UAAI;IAAK;MAAA;MAAA;MAAA;IAAA,QAAK,eACd;MAAM,QAAQ,EAAEhB,YAAY,CAACI,aAAa,CAAE;MAAA,wBAC1C;QAAA,uBACE;UACE,IAAI,EAAC,MAAM;UACX,WAAW,EAAC,UAAU;UAAA,GAClBL,QAAQ,CAAC,UAAU,EAAE;YAAEyB,QAAQ,EAAE;UAAsB,CAAC;QAAC;UAAA;UAAA;UAAA;QAAA;MAC7D;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAA,uBACE;UACE,IAAI,EAAC,UAAU;UACf,WAAW,EAAC,UAAU;UAAA,GAClBzB,QAAQ,CAAC,UAAU,EAAE;YAAEyB,QAAQ,EAAE;UAAsB,CAAC;QAAC;UAAA;UAAA;UAAA;QAAA;MAC7D;QAAA;QAAA;QAAA;MAAA,QACE,eACN;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAK;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAC/B;EAAA;IAAA;IAAA;IAAA;EAAA,QACH;AAEV;AAAC,GAhEuB1B,SAAS;EAAA,QAK3BF,OAAO;AAAA;AAAA,KALWE,SAAS;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}